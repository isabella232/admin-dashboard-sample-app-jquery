<!DOCTYPE html>
<html>

<head>
    <meta charset="utf-8">
    <title>Untitled</title>

    <link rel="stylesheet" href="https://kendo.cdn.telerik.com/2021.2.616/styles/kendo.default-v2.min.css">
    <link rel="stylesheet" href="https://kendo.cdn.telerik.com/2021.2.616/styles/kendo.rtl.min.css">
    <link rel="stylesheet" href="https://kendo.cdn.telerik.com/2021.2.616/styles/kendo.default-v2.min.css">
    <link rel="stylesheet" href="https://kendo.cdn.telerik.com/2021.2.616/styles/kendo.mobile.all.min.css">

    <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@300;400&display=swap" rel="stylesheet">

    <script src="https://code.jquery.com/jquery-1.12.3.min.js"></script>
    <script src="https://kendo.cdn.telerik.com/2021.2.616/js/angular.min.js"></script>
    <script src="https://kendo.cdn.telerik.com/2021.2.616/js/jszip.min.js"></script>
    <script src="https://kendo.cdn.telerik.com/2021.2.616/js/kendo.all.min.js"></script>
</head>

<body>
    <div id="drawer">
        <div id="drawer-content">
            <div id="appbar"></div>
            <main></main>
        </div>

        <script>
            $(document).ready(function () {
                var appBarData = "data"
                $("main").load("dashboard.html");

                $("#appbar").kendoAppBar({
                    themeColor: "inherit",
                    items: [
                        { template: '<a id="toggleDrawer" k-button" href="\\#"><span class="k-icon k-i-menu"></span></a>', type: "contentItem" },
                        { width: 8, type: "spacer" },
                        { template: '<div class="title">Dashboard</div>', type: "contentItem" },
                        { width: 16, type: "spacer" },
                        { width: 8, type: "spacer" },
                        { template: '<span class="notification"><span class="k-icon k-i-bell"></span><a class="about">About</a></span>', type: "contentItem" }
                    ]
                });

                $("#drawer").kendoDrawer({
                    template: "<ul> \
                            <li class='user-container'><img id='avatar' src='Content/Avatar/avatar.png' /><h1 id='avatar-name'>Jaxons Danniels</h1><div id='email'>jaxons.daniels@company.com</div><button id='signOutButton'>Sign Out</button></li> \
                            <li data-role='drawer-item' class='k-state-selected'><span class='k-icon k-i-grid'></span><span class='k-item-text' data-id='Inbox'>Dashboard</span></li> \
                            <li data-role='drawer-item'><span class='k-icon k-i-notification k-i-globe'></span><span class='k-item-text' data-id='Notifications'>Performance & Sales</span></li> \
                            <li data-role='drawer-item'><span class='k-icon k-i-aggregate-fields'></span><span class='k-item-text' data-id='Calendar'>Products</span></li> \
                            <li data-role='drawer-separator'></li> \
                            <li data-role='drawer-item'><span class='k-icon k-i-gear'></span><span class='k-item-text' data-id='Attachments'>Settings</span></li> \
                          </ul>",
                    mode: "push",
                    autoCollapse: false,
                    mini: false,
                    itemClick: function (e) {
                        if (!e.item.hasClass("k-drawer-separator")) {
                            var tabName = e.item.find(".k-item-text").text().split(" ")[0];
                            var titleName = e.item.find(".k-item-text").text()
                            e.sender.drawerContainer.find("#drawer-content > main").empty()
                            $("main").load(tabName + ".html");
                            $("div.title").text(titleName);
                        }
                    },
                    position: 'left',
                    minHeight: 330,
                    swipeToOpen: true
                });

                $("#signOutButton").kendoButton({
                    click: signOut
                });

                function signOut() {
                    location.href = "login.html";
                }

                $("#drawer").data("kendoDrawer").show()

                $("#toggleDrawer").click(function () {
                    var drawerInstance = $("#drawer").data().kendoDrawer;
                    var drawerContainer = drawerInstance.drawerContainer;

                    if (drawerContainer.hasClass("k-drawer-expanded")) {
                        drawerInstance.hide();
                    } else {
                        drawerInstance.show();
                    }

                    setTimeout(function () {
                        console.log(1)
                        kendo.resize($(".chart-wrapper"));
                    }, 400)
                })

                $("li.user-container").off()
            });


        </script>

        <style>
            body {
                margin: 0px;
                font-family: Roboto;
                font-style: normal;
                font-weight: normal;
            }

            .user-container {
                display: block;
                text-align: center;
                /* pointer-events: none; */

            }

            .user-container:hover {
                background-color: transparent;
                background-image: none;
            }

            #appbar {
                padding: 0px 14px 0px 24px;
                height: 48px;
                background: #FFFFFF;
                box-shadow: 0px 3px 3px rgba(0, 0, 0, 0.06);
            }

            .title {
                color: #2D73F5;
            }

            .notification {
                position: absolute;
                right: 14px;
            }

            .k-i-bell {
                margin-right: 26px;
            }

            .about {
                font-family: Roboto;
                font-style: normal;
                font-weight: normal;
                font-size: 14px;
                line-height: 20px;

                align-items: center;
                text-align: center;
                color: #424242;
            }

            a:-webkit-any-link {
                text-decoration: none;

            }

            #avatar {
                margin: 32px auto 0;
                width: 64px;
                border-radius: 50%;
            }

            #email {
                font-family: Roboto;
                font-style: normal;
                font-weight: normal;
                font-size: 12px;
                line-height: 20px;
                text-decoration-line: underline;
            }

            #signOutButton {
                pointer-events: auto;
                margin: 12px 0 9px 0;
                font-family: Roboto;
                font-style: normal;
                font-weight: normal;
                font-size: 14px;
                line-height: 20px;
            }

            #avatar-name {
                font-size: 16px;
            }

            #drawer-content {
                background-color: #FAFAFA;
            }
        </style>
</body>

</html>